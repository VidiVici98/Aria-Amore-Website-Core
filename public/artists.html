<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Aria Amore — Our Artists</title>
<meta name="description" content="Meet the Aria Amore ensemble. Click to play audio previews and read artist bios." />
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Italianno&display=swap" rel="stylesheet">

<style>
/* ---------- Design tokens ---------- */
:root{
  --max-width:1200px;
  --pad:24px;
  --bg-paper: url('/assets/media/images/parchment-background.webp');
  --accent: #cfae7a;        /* warm gold */
  --accent-deep: #b8916a;
  --muted: #6b6b6b;
  --text: #111;
  --card-bg: linear-gradient(180deg,#fffaf1,#f7efe4);
  --card-radius:14px;
  --card-shadow: 0 10px 30px rgba(12,12,12,0.12), inset 0 1px 2px rgba(255,255,255,0.6);
  --transition: all .32s cubic-bezier(.2,.9,.2,1);
  --wave-color: rgba(207,174,122,0.96);
  --wave-dim: rgba(207,174,122,0.38);
  --font-script: 'Italianno', cursive;
}

/* ---------- Base ---------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Georgia, 'Times New Roman', Times, serif;
  color:var(--text);
  background-image: var(--bg-paper);
  background-size:cover;
  background-position:center;
  padding: clamp(12px, 3vw, var(--pad));
  display:flex;
  justify-content:center;
  align-items:flex-start;
}

/* vignette to increase contrast when background image missing */
.page-wrap{
  width:100%;
  max-width:var(--max-width);
  margin: 0 auto 48px;
  background: linear-gradient(180deg, rgba(255,255,250,0.85), rgba(255,250,240,0.95));
  border-radius: 16px;
  padding: clamp(18px, 2.5vw, 32px);
  box-shadow: 0 20px 60px rgba(10,10,10,0.12);
}

/* ---------- Header ---------- */
.header{
  text-align:center;
  margin-bottom: 18px;
}
.title{
  font-family: var(--font-script);
  font-size: clamp(2rem, 4.2vw, 3rem);
  color: var(--accent-deep);
  margin:0;
  letter-spacing:.01em;
  text-shadow: 0 2px 6px rgba(0,0,0,0.08);
}
.subtitle{
  margin-top:8px;
  color:var(--muted);
  font-style:italic;
  font-size:clamp(.95rem,1.2vw,1.05rem);
}

/* ---------- Grid ---------- */
.artists-grid{
  display:grid;
  gap: 22px;
  grid-template-columns: repeat(auto-fit, minmax(320px,1fr));
  align-items:start;
  margin-top: 18px;
}

/* ---------- Artist Card ---------- */
.artist{
  display:flex;
  gap: 18px;
  align-items:flex-start;
  background: var(--card-bg);
  border-radius: var(--card-radius);
  padding: 18px;
  box-shadow: var(--card-shadow);
  transition: var(--transition);
  position:relative;
  overflow:visible;
}
.artist:hover{ transform: translateY(-6px); box-shadow: 0 26px 60px rgba(10,10,10,0.14) }

/* Portrait block */
.artist-portrait{
  width: 140px;
  height: 140px;
  border-radius: 10px;
  overflow:hidden;
  background: #efe6da;
  flex:0 0 140px;
  cursor:pointer;
  box-shadow: 0 8px 24px rgba(0,0,0,0.10);
}
.artist-portrait img{ width:100%; height:100%; object-fit:cover; display:block; }

/* Info column */
.artist-body{ flex:1; min-width:0; display:flex; flex-direction:column; gap:8px; }
.headline-row{ display:flex; justify-content:space-between; align-items:flex-start; gap:12px; }
.name-block{ min-width:0; }
.artist-name{
  margin:0;
  font-family:var(--font-script);
  font-size:1.4rem;
  color:var(--accent-deep);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.artist-role{ margin:0; font-style:italic; color:var(--muted); font-size:.95rem; }

/* quick stats & quote */
.meta-row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; color:var(--muted); font-size:.92rem; margin-top:6px; }
.badge{ background: rgba(200,170,120,0.12); color:var(--accent-deep); padding:6px 10px; border-radius:999px; font-family:var(--font-script); font-size:.9rem; border:1px solid rgba(200,170,120,0.14); }
.stats{ color: var(--muted); font-size:.9rem; }

/* bio (collapsible) */
.artist-bio{
  font-size: .98rem;
  color: var(--text);
  line-height:1.5;
  max-height: 3.4rem; /* ~2 lines collapsed */
  overflow:hidden;
  transition: max-height .36s ease, padding .28s ease;
  padding-bottom:0;
}
.artist-bio.open{ max-height: 999px; padding-bottom:6px; }

/* read more control */
.read-more{
  background:transparent; border: none; color:var(--accent-deep);
  font-family:var(--font-script); cursor:pointer; padding:0; text-decoration:underline; font-size: .95rem;
}
.read-more:focus{ outline: 3px solid rgba(191,167,127,0.12); border-radius:6px; }

/* booking CTA */
.cta-row{ display:flex; gap:8px; margin-top:8px; align-items:center; flex-wrap:wrap;}
.book-btn{
  background:var(--accent-deep); color:#fff; padding:8px 12px; border-radius:8px; font-family:var(--font-script); text-decoration:none;
  box-shadow: 0 6px 18px rgba(185,145,106,0.12); transition: var(--transition);
}
.book-btn:hover{ transform: translateY(-2px); filter:brightness(1.02) }

/* ---------- Audio list ---------- */
.audio-list{ display:flex; flex-direction:column; gap:10px; margin-top:6px; }

/* one item */
.audio-item{ display:flex; gap:12px; align-items:center; width:100%; min-width:0; }
.play-btn{
  display:grid; place-items:center;
  width:48px; height:48px; border-radius:999px;
  background: linear-gradient(180deg,#fffdfa,#f5eee0);
  border:1px solid rgba(0,0,0,0.06);
  cursor:pointer; transition: box-shadow .18s ease, transform .18s ease, background .18s ease;
  box-shadow: 0 6px 12px rgba(0,0,0,0.06);
}
.play-btn:focus{ outline: 3px solid rgba(207,174,122,0.14) }

/* glowing style when active */
.play-btn.glow{ box-shadow: 0 12px 34px rgba(207,174,122,0.18); transform: translateY(-2px); background: linear-gradient(180deg,#f8f1e6,#f0e3cc) }

/* play/pause icons */
.play-icon{ width:0;height:0;border-left:12px solid #231f20;border-top:7px solid transparent;border-bottom:7px solid transparent;margin-left:2px; }
.pause-icon{ display:none; width:12px; height:14px; }
.pause-icon span{ display:inline-block; width:3px; height:100%; background:#231f20; margin:0 2px; }
.play-btn.playing .play-icon{ display:none }
.play-btn.playing .pause-icon{ display:inline-block }

/* track info */
.track-info{ min-width:0; display:flex; flex-direction:column; gap:2px; overflow:hidden }
.track-title{ font-family:var(--font-script); font-size:1rem; margin:0; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.track-sub{ margin:0; color:var(--muted); font-size:.86rem; }

/* waveform: 5 bars */
.waveform{ display:inline-grid; grid-auto-flow:column; gap:5px; align-items:end; height:28px; width:92px; margin-left:6px; }
.wavebar{ width:6px; background:var(--wave-dim); border-radius:4px; height:8px; transform-origin:bottom; transition: background .18s ease; }

/* hover pulse (light) */
.play-btn:hover + .waveform .wavebar,
.play-btn:focus + .waveform .wavebar{ transform: scaleY(1.6); background:var(--wave-color); }

/* playing animation: looped scaling, staggered delays */
.audio-item.playing .wavebar{ animation: wave 880ms linear infinite; background:var(--wave-color); }
.audio-item.playing .wavebar:nth-child(1){ animation-delay: 0ms }
.audio-item.playing .wavebar:nth-child(2){ animation-delay: 110ms }
.audio-item.playing .wavebar:nth-child(3){ animation-delay: 230ms }
.audio-item.playing .wavebar:nth-child(4){ animation-delay: 350ms }
.audio-item.playing .wavebar:nth-child(5){ animation-delay: 470ms }

@keyframes wave{
  0%{ transform: scaleY(.35) }
  20%{ transform: scaleY(1.0) }
  40%{ transform: scaleY(.45) }
  60%{ transform: scaleY(1.2) }
  80%{ transform: scaleY(.55) }
  100%{ transform: scaleY(.35) }
}

/* hide native controls (we rely on custom play button) */
audio{ display:none }

/* ---------- Lightbox (hidden by default) ---------- */
.lightbox{
  position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:9999;
}
.lightbox.open{ display:flex }
.lightbox-backdrop{ position:absolute; inset:0; background:rgba(12,12,12,0.6); backdrop-filter: blur(2px); }
.lightbox-panel{
  position:relative; z-index:2; max-width:92%; max-height:88%; border-radius:10px; overflow:hidden; background:#fff; padding:12px;
  box-shadow: 0 18px 60px rgba(0,0,0,0.5);
}
.lightbox-img{ max-width:84vw; max-height:76vh; display:block; }
.lightbox-close{ position:absolute; right:10px; top:6px; background:transparent; border:0; font-size:1.6rem; cursor:pointer; color:#222; }

/* accessibility focus */
[tabindex="0"]:focus{ outline: 3px solid rgba(191,167,127,0.12); border-radius:6px }

/* responsive adjustments */
@media (max-width:720px){
  .artist{ flex-direction:column; align-items:center; text-align:center; }
  .artist-portrait{ width: 180px; height:180px; flex:0 0 180px; }
  .audio-item{ justify-content:center }
  .waveform{ display:none } /* simplify on small screens */
}

/* reduced motion */
@media (prefers-reduced-motion: reduce){
  .artist, .play-btn, .audio-item.playing .wavebar{ transition: none !important; animation: none !important }
}
</style>
</head>
<body>
  <div class="page-wrap" role="main">
    <header class="header">
      <h1 class="title">Our Artists</h1>
      <p class="subtitle">Meet the Aria Amore ensemble — each artist tailored to elevate your wedding ceremony.</p>
    </header>

    <section class="artists-grid" aria-label="Artists">

      <!-- ---------------- ARTIST: Sophia ---------------- -->
      <article class="artist" id="artist-sophia">
        <div class="artist-portrait" tabindex="0" role="button" aria-label="View Sophia Verdi photo">
          <img src="/assets/media/images/artist1.webp" alt="Sophia Verdi portrait">
        </div>

        <div class="artist-body">
          <div class="headline-row">
            <div class="name-block">
              <h2 class="artist-name">Sophia Verdi</h2>
              <div class="artist-role">Lead Soprano</div>
            </div>
            <div class="meta-row">
              <div class="badge" aria-hidden="true">Signature: Ave Maria</div>
              <div class="stats" aria-hidden="true">Performing since 2012 • 320+ weddings</div>
            </div>
          </div>

          <p class="artist-bio" id="bio-sophia">
            Sophia’s soaring soprano has been central to Aria Amore’s signature sound. Trained at the Conservatorio, she blends classical technique with heartfelt expression — ideal for the intimate emotions of wedding ceremonies.
          </p>
          <button class="read-more" aria-expanded="false" aria-controls="bio-sophia" data-target="bio-sophia">Read more</button>

          <div class="cta-row">
            <a class="book-btn" href="/booking?s=Sophia%20Verdi" aria-label="Request Sophia Verdi">Request Artist</a>
          </div>

          <div class="audio-list" aria-label="Audio previews for Sophia">
            <!-- track 1 -->
            <div class="audio-item" data-track="sophia-1">
              <button class="play-btn" aria-pressed="false" aria-label="Play Ave Maria preview" data-audio="sophia-1-src">
                <span class="play-icon" aria-hidden="true"></span>
                <span class="pause-icon" aria-hidden="true"><span></span><span></span></span>
              </button>

              <div class="waveform" aria-hidden="true">
                <div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div>
              </div>

              <div class="track-info">
                <p class="track-title">Ave Maria (excerpt)</p>
                <p class="track-sub">Soprano • 45s</p>
              </div>

              <audio id="sophia-1-src" preload="none"><source src="/assets/media/audio/sophia-ave-maria.mp3" type="audio/mpeg"></audio>
            </div>

            <!-- track 2 -->
            <div class="audio-item" data-track="sophia-2">
              <button class="play-btn" aria-pressed="false" aria-label="Play Canon in D preview" data-audio="sophia-2-src">
                <span class="play-icon" aria-hidden="true"></span>
                <span class="pause-icon" aria-hidden="true"><span></span><span></span></span>
              </button>

              <div class="waveform" aria-hidden="true"><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div></div>

              <div class="track-info">
                <p class="track-title">Canon in D (arr.)</p>
                <p class="track-sub">Soprano solo • 38s</p>
              </div>

              <audio id="sophia-2-src" preload="none"><source src="/assets/media/audio/sophia-canon.mp3" type="audio/mpeg"></audio>
            </div>

            <!-- track 3 -->
            <div class="audio-item" data-track="sophia-3">
              <button class="play-btn" aria-pressed="false" aria-label="Play Modern medley preview" data-audio="sophia-3-src">
                <span class="play-icon" aria-hidden="true"></span>
                <span class="pause-icon" aria-hidden="true"><span></span><span></span></span>
              </button>

              <div class="waveform" aria-hidden="true"><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div></div>

              <div class="track-info">
                <p class="track-title">Modern Medley (excerpt)</p>
                <p class="track-sub">Bridal entrance • 34s</p>
              </div>

              <audio id="sophia-3-src" preload="none"><source src="/assets/media/audio/sophia-modern-medley.mp3" type="audio/mpeg"></audio>
            </div>
          </div>
        </div>
      </article>

      <!-- ---------------- ARTIST: Luca ---------------- -->
      <article class="artist" id="artist-luca">
        <div class="artist-portrait" tabindex="0" role="button" aria-label="View Luca Moretti photo">
          <img src="/assets/media/images/artist2.webp" alt="Luca Moretti portrait">
        </div>

        <div class="artist-body">
          <div class="headline-row">
            <div class="name-block">
              <h2 class="artist-name">Luca Moretti</h2>
              <div class="artist-role">Pianist & Composer</div>
            </div>
            <div class="meta-row">
              <div class="badge" aria-hidden="true">Composer • Bespoke Arrangements</div>
              <div class="stats" aria-hidden="true">Featured at 150+ events</div>
            </div>
          </div>

          <p class="artist-bio" id="bio-luca">
            Luca blends classical refinement with contemporary warmth. He crafts bespoke ceremony arrangements that reflect each couple’s story and mood.
          </p>
          <button class="read-more" aria-expanded="false" aria-controls="bio-luca" data-target="bio-luca">Read more</button>

          <div class="cta-row">
            <a class="book-btn" href="/booking?s=Luca%20Moretti">Request Artist</a>
          </div>

          <div class="audio-list" aria-label="Audio previews for Luca">
            <div class="audio-item" data-track="luca-1">
              <button class="play-btn" aria-pressed="false" aria-label="Play Custom Prelude" data-audio="luca-1-src">
                <span class="play-icon" aria-hidden="true"></span>
                <span class="pause-icon" aria-hidden="true"><span></span><span></span></span>
              </button>
              <div class="waveform" aria-hidden="true"><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div></div>

              <div class="track-info">
                <p class="track-title">Custom Prelude</p>
                <p class="track-sub">Piano • 40s</p>
              </div>

              <audio id="luca-1-src" preload="none"><source src="/assets/media/audio/luca-prelude.mp3" type="audio/mpeg"></audio>
            </div>

            <div class="audio-item" data-track="luca-2">
              <button class="play-btn" aria-pressed="false" aria-label="Play Interlude" data-audio="luca-2-src">
                <span class="play-icon" aria-hidden="true"></span>
                <span class="pause-icon" aria-hidden="true"><span></span><span></span></span>
              </button>
              <div class="waveform" aria-hidden="true"><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div></div>

              <div class="track-info">
                <p class="track-title">Interlude (arr.)</p>
                <p class="track-sub">Piano • 36s</p>
              </div>

              <audio id="luca-2-src" preload="none"><source src="/assets/media/audio/luca-interlude.mp3" type="audio/mpeg"></audio>
            </div>

            <div class="audio-item" data-track="luca-3">
              <button class="play-btn" aria-pressed="false" aria-label="Play Ceremony Medley" data-audio="luca-3-src">
                <span class="play-icon" aria-hidden="true"></span>
                <span class="pause-icon" aria-hidden="true"><span></span><span></span></span>
              </button>
              <div class="waveform" aria-hidden="true"><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div></div>

              <div class="track-info">
                <p class="track-title">Ceremony Medley</p>
                <p class="track-sub">Piano • 48s</p>
              </div>

              <audio id="luca-3-src" preload="none"><source src="/assets/media/audio/luca-medley.mp3" type="audio/mpeg"></audio>
            </div>
          </div>
        </div>
      </article>

      <!-- ---------------- ARTIST: Isabella ---------------- -->
      <article class="artist" id="artist-isabella">
        <div class="artist-portrait" tabindex="0" role="button" aria-label="View Isabella Rossi photo">
          <img src="/assets/media/images/artist3.webp" alt="Isabella Rossi portrait">
        </div>

        <div class="artist-body">
          <div class="headline-row">
            <div class="name-block">
              <h2 class="artist-name">Isabella Rossi</h2>
              <div class="artist-role">Cellist</div>
            </div>
            <div class="meta-row">
              <div class="badge" aria-hidden="true">Warm • Cinematic</div>
              <div class="stats" aria-hidden="true">Known for emotional phrasing</div>
            </div>
          </div>

          <p class="artist-bio" id="bio-isabella">
            Isabella’s cello offers cinematic warmth and deep resonance. Her phrasing is crafted to underscore life’s most intimate moments — perfect for both ceremony and reception.
          </p>
          <button class="read-more" aria-expanded="false" aria-controls="bio-isabella" data-target="bio-isabella">Read more</button>

          <div class="cta-row">
            <a class="book-btn" href="/booking?s=Isabella%20Rossi">Request Artist</a>
          </div>

          <div class="audio-list" aria-label="Audio previews for Isabella">
            <div class="audio-item" data-track="isabella-1">
              <button class="play-btn" aria-pressed="false" aria-label="Play Cello Theme" data-audio="isabella-1-src">
                <span class="play-icon" aria-hidden="true"></span>
                <span class="pause-icon" aria-hidden="true"><span></span><span></span></span>
              </button>
              <div class="waveform" aria-hidden="true"><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div></div>

              <div class="track-info">
                <p class="track-title">Cello Theme (excerpt)</p>
                <p class="track-sub">Cello • 42s</p>
              </div>

              <audio id="isabella-1-src" preload="none"><source src="/assets/media/audio/isabella-cello1.mp3" type="audio/mpeg"></audio>
            </div>

            <div class="audio-item" data-track="isabella-2">
              <button class="play-btn" aria-pressed="false" aria-label="Play Lullaby" data-audio="isabella-2-src">
                <span class="play-icon" aria-hidden="true"></span>
                <span class="pause-icon" aria-hidden="true"><span></span><span></span></span>
              </button>
              <div class="waveform" aria-hidden="true"><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div></div>

              <div class="track-info">
                <p class="track-title">Lullaby (arr.)</p>
                <p class="track-sub">Cello • 37s</p>
              </div>

              <audio id="isabella-2-src" preload="none"><source src="/assets/media/audio/isabella-lullaby.mp3" type="audio/mpeg"></audio>
            </div>

            <div class="audio-item" data-track="isabella-3">
              <button class="play-btn" aria-pressed="false" aria-label="Play Finale excerpt" data-audio="isabella-3-src">
                <span class="play-icon" aria-hidden="true"></span>
                <span class="pause-icon" aria-hidden="true"><span></span><span></span></span>
              </button>
              <div class="waveform" aria-hidden="true"><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div><div class="wavebar"></div></div>

              <div class="track-info">
                <p class="track-title">Finale (excerpt)</p>
                <p class="track-sub">Cello • 50s</p>
              </div>

              <audio id="isabella-3-src" preload="none"><source src="/assets/media/audio/isabella-finale.mp3" type="audio/mpeg"></audio>
            </div>
          </div>
        </div>
      </article>

    </section>

    <footer style="margin-top:28px;text-align:center;color:var(--muted);font-style:italic">
      © 2025 Aria Amore • Enchanting ceremonies, one note at a time.
    </footer>
  </div>

  <!-- Lightbox overlay (single instance) -->
  <div class="lightbox" id="lightbox" aria-hidden="true" role="dialog" aria-label="Lightbox">
    <div class="lightbox-backdrop" id="lightbox-backdrop"></div>
    <div class="lightbox-panel" role="document">
      <button class="lightbox-close" id="lightbox-close" aria-label="Close">✕</button>
      <img src="#" alt="" class="lightbox-img" id="lightbox-img" />
      <!-- optional video support could be toggled into this panel -->
    </div>
  </div>

<script>
/* Interaction JS
   - play/pause single audio at a time
   - toggle waveform animation by adding/removing .playing on .audio-item
   - read-more expand/collapse
   - lightbox for portraits (click portrait)
   - accessibility: keyboard activation, Escape to close audio/lightbox
*/
(() => {
  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

  // Play controls
  const playButtons = Array.from(document.querySelectorAll('.play-btn'));
  let activeAudio = null;
  let activeItem = null;

  function stopActive() {
    if (!activeAudio) return;
    activeAudio.pause();
    activeAudio.currentTime = 0;
    if (activeItem) activeItem.classList.remove('playing');
    const btn = activeItem && activeItem.querySelector('.play-btn');
    if (btn) btn.classList.remove('playing');
    activeAudio = null;
    activeItem = null;
  }

  function onPlayButtonClick(btn) {
    const audioId = btn.getAttribute('data-audio');
    if (!audioId) return;
    const audio = document.getElementById(audioId);
    if (!audio) return;

    // Toggle same audio
    if (activeAudio === audio) {
      // pause
      audio.pause();
      if (activeItem) activeItem.classList.remove('playing');
      btn.classList.remove('playing');
      activeAudio = null;
      activeItem = null;
      return;
    }

    // stop other
    if (activeAudio && activeAudio !== audio) stopActive();

    // play chosen
    audio.play().then(() => {
      activeAudio = audio;
      activeItem = btn.closest('.audio-item');
      if (activeItem) activeItem.classList.add('playing');
      btn.classList.add('playing');

      // When audio completes
      audio.onended = () => {
        if (activeItem) activeItem.classList.remove('playing');
        btn.classList.remove('playing');
        activeAudio = null;
        activeItem = null;
      };
    }).catch(err => {
      console.warn('Playback failed', err);
    });
  }

  // Attach handlers to play buttons
  playButtons.forEach(btn => {
    btn.addEventListener('click', () => onPlayButtonClick(btn));
    btn.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); onPlayButtonClick(btn); }
    });
  });

  // Pause active audio if user navigates away or hits Escape
  document.addEventListener('visibilitychange', () => { if (document.hidden) stopActive(); });
  window.addEventListener('keydown', (e) => { if (e.key === 'Escape') { stopActive(); closeLightbox(); } });

  // Read more toggles
  const readButtons = Array.from(document.querySelectorAll('.read-more'));
  readButtons.forEach(btn => {
    btn.addEventListener('click', () => {
      const target = document.getElementById(btn.getAttribute('data-target'));
      if (!target) return;
      const open = target.classList.toggle('open');
      btn.setAttribute('aria-expanded', String(open));
      btn.textContent = open ? 'Read less' : 'Read more';
    });
  });

  // Lightbox for portraits
  const lightbox = document.getElementById('lightbox');
  const lightboxBackdrop = document.getElementById('lightbox-backdrop');
  const lightboxImg = document.getElementById('lightbox-img');
  const lightboxClose = document.getElementById('lightbox-close');

  function openLightbox(src, alt = '') {
    if (!src) return;
    // pause any playing audio
    stopActive();
    lightboxImg.src = src;
    lightboxImg.alt = alt;
    lightbox.classList.add('open');
    lightbox.setAttribute('aria-hidden', 'false');
    // trap focus on close for accessibility
    lightboxClose.focus();
    document.body.style.overflow = 'hidden';
  }
  function closeLightbox() {
    lightbox.classList.remove('open');
    lightbox.setAttribute('aria-hidden', 'true');
    lightboxImg.src = '#';
    lightboxImg.alt = '';
    document.body.style.overflow = '';
  }

  // portrait elements open lightbox
  document.querySelectorAll('.artist-portrait').forEach(p => {
    p.addEventListener('click', () => {
      const img = p.querySelector('img');
      openLightbox(img ? img.src : '', img ? img.alt : '');
    });
    p.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); p.click(); }
    });
  });

  lightboxBackdrop.addEventListener('click', closeLightbox);
  lightboxClose.addEventListener('click', closeLightbox);
})();
</script>
</body>
</html>
