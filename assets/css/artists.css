/* ---------- Design tokens ---------- */
:root{
  --max-width:1200px;
  --pad:24px;
  --bg-paper: url('/assets/media/images/parchment-background.webp');
  --accent: #cfae7a;        /* warm gold */
  --accent-deep: #b8916a;
  --muted: #6b6b6b;
  --text: #111;
  --card-bg: linear-gradient(180deg,#fffaf1,#f7efe4);
  --card-radius:14px;
  --card-shadow: 0 10px 30px rgba(12,12,12,0.12), inset 0 1px 2px rgba(255,255,255,0.6);
  --transition: all .32s cubic-bezier(.2,.9,.2,1);
  --wave-color: rgba(207,174,122,0.96);
  --wave-dim: rgba(207,174,122,0.38);
  --font-script: 'Italianno', cursive;
}

/* ---------- Base ---------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: Georgia, 'Times New Roman', Times, serif;
  color:var(--text);
  background-image: var(--bg-paper);
  background-size:cover;
  background-position:center;
  padding: clamp(12px, 3vw, var(--pad));
  display:flex;
  justify-content:center;
  align-items:flex-start;
}

/* vignette to increase contrast when background image missing */
.page-wrap{
  width:100%;
  max-width:var(--max-width);
  margin: 0 auto 48px;
  background: linear-gradient(180deg, rgba(255,255,250,0.85), rgba(255,250,240,0.95));
  border-radius: 16px;
  padding: clamp(18px, 2.5vw, 32px);
  box-shadow: 0 20px 60px rgba(10,10,10,0.12);
}

/* ---------- Header ---------- */
.header{
  text-align:center;
  margin-bottom: 18px;
}
.title{
  font-family: var(--font-script);
  font-size: clamp(2rem, 4.2vw, 3rem);
  color: var(--accent-deep);
  margin:0;
  letter-spacing:.01em;
  text-shadow: 0 2px 6px rgba(0,0,0,0.08);
}
.subtitle{
  margin-top:8px;
  color:var(--muted);
  font-style:italic;
  font-size:clamp(.95rem,1.2vw,1.05rem);
}

/* ---------- Grid ---------- */
.artists-grid{
  display:grid;
  gap: 22px;
  grid-template-columns: repeat(auto-fit, minmax(320px,1fr));
  align-items:start;
  margin-top: 18px;
}

/* ---------- Artist Card ---------- */
.artist{
  display:flex;
  gap: 18px;
  align-items:flex-start;
  background: var(--sepia-gradient);
  box-shadow: var(--box-shadow), var(--envelope-inset);
  border-radius: var(--card-radius);
  padding: 18px;
  transition: var(--transition);
  position:relative;
  overflow:visible;
}
.artist:hover{ transform: translateY(-6px); box-shadow: 0 26px 60px rgba(10,10,10,0.14) }
.content-wrapper {
  position: relative;
}
/* Base corner style */
.corner {
  position: absolute;
  width: 60px;   /* adjust as needed */
  height: auto;
  opacity: .75;
  pointer-events: none; /* so they donâ€™t interfere with clicks */
}
/* Top-right (original orientation) */
.corner-top-right {
  top: -30px;
  right: -30px;
}
/* Top-left (rotate horizontally) */
.corner-top-left {
  top: -30px;
  left: -30px;
  transform: scaleX(-1);
}
/* Bottom-right (rotate vertically) */
.corner-bottom-right {
  bottom: -30px;
  right: -30px;
  transform: scaleY(-1);
}
/* Bottom-left (rotate both axes) */
.corner-bottom-left {
  bottom: -30px;
  left: -30px;
  transform: scaleX(-1) scaleY(-1);
}
/* Portrait block */
.artist-portrait{
  width: 140px;
  height: 140px;
  border-radius: 10px;
  overflow:hidden;
  background: #efe6da;
  flex:0 0 140px;
  cursor:pointer;
  box-shadow: 0 8px 24px rgba(0,0,0,0.10);
}
.artist-portrait img{ width:100%; height:100%; object-fit:cover; display:block; }

/* Info column */
.artist-body{ flex:1; min-width:0; display:flex; flex-direction:column; gap:8px; }
.headline-row{ display:flex; justify-content:space-between; align-items:flex-start; gap:12px; }
.name-block{ min-width:0; }
.artist-name{
  margin:0;
  font-family:var(--font-script);
  font-size:1.4rem;
  color:var(--accent-deep);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.artist-role{ margin:0; font-style:italic; color:var(--muted); font-size:.95rem; }

/* quick stats & quote */
.meta-row{ display:flex; gap:12px; align-items:center; flex-wrap:wrap; color:var(--muted); font-size:.92rem; margin-top:6px; }
.badge{ background: rgba(200,170,120,0.12); color:var(--accent-deep); padding:6px 10px; border-radius:999px; font-family:var(--font-script); font-size:.9rem; border:1px solid rgba(200,170,120,0.14); }
.stats{ color: var(--muted); font-size:.9rem; }

/* bio (collapsible) */
.artist-bio{
  font-size: .98rem;
  color: var(--text);
  line-height:1.5;
  max-height: 3.4rem; /* ~2 lines collapsed */
  overflow:hidden;
  transition: max-height .36s ease, padding .28s ease;
  padding-bottom:0;
}
.artist-bio.open{ max-height: 999px; padding-bottom:6px; }

/* read more control */
.read-more{
  background:transparent; border: none; color:var(--accent-deep);
  font-family:var(--font-script); cursor:pointer; padding:0; text-decoration:underline; font-size: .95rem;
}
.read-more:focus{ outline: 3px solid rgba(191,167,127,0.12); border-radius:6px; }

/* booking CTA */
.cta-row{ display:flex; gap:8px; margin-top:8px; align-items:center; flex-wrap:wrap;}
.book-btn{
  background:var(--accent-deep); color:#fff; padding:8px 12px; border-radius:8px; font-family:var(--font-script); text-decoration:none;
  box-shadow: 0 6px 18px rgba(185,145,106,0.12); transition: var(--transition);
  right: -60%;
  position: relative;
}
.book-btn:hover{ transform: translateY(-2px); filter:brightness(1.02) }

/* ---------- Audio list ---------- */
.audio-list{ display:flex; flex-direction:column; gap:10px; margin-top:6px; }

/* one item */
.audio-item{ display:flex; gap:12px; align-items:center; width:100%; min-width:0; }
.play-btn{
  display:grid; place-items:center;
  width:48px; height:48px; border-radius:999px;
  background: linear-gradient(180deg,#fffdfa,#f5eee0);
  border:1px solid rgba(0,0,0,0.06);
  cursor:pointer; transition: box-shadow .18s ease, transform .18s ease, background .18s ease;
  box-shadow: 0 6px 12px rgba(0,0,0,0.06);
}
.play-btn:focus{ outline: 3px solid rgba(207,174,122,0.14) }

/* glowing style when active */
.play-btn.glow{ box-shadow: 0 12px 34px rgba(207,174,122,0.18); transform: translateY(-2px); background: linear-gradient(180deg,#f8f1e6,#f0e3cc) }

/* play/pause icons */
.play-icon{ width:0;height:0;border-left:12px solid #231f20;border-top:7px solid transparent;border-bottom:7px solid transparent;margin-left:2px; }
.pause-icon{ display:none; width:12px; height:14px; }
.pause-icon span{ display:inline-block; width:3px; height:100%; background:#231f20; margin:0 2px; }
.play-btn.playing .play-icon{ display:none }
.play-btn.playing .pause-icon{ display:inline-block }

/* track info */
.track-info{ min-width:0; display:flex; flex-direction:column; gap:2px; overflow:hidden }
.track-title{ font-family:var(--font-script); font-size:1rem; margin:0; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.track-sub{ margin:0; color:var(--muted); font-size:.86rem; }

/* waveform: 5 bars */
.waveform{ display:inline-grid; grid-auto-flow:column; gap:5px; align-items:end; height:28px; width:92px; margin-left:6px; }
.wavebar{ width:6px; background:var(--wave-dim); border-radius:4px; height:8px; transform-origin:bottom; transition: background .18s ease; }

/* hover pulse (light) */
.play-btn:hover + .waveform .wavebar,
.play-btn:focus + .waveform .wavebar{ transform: scaleY(1.6); background:var(--wave-color); }

/* playing animation: looped scaling, staggered delays */
.audio-item.playing .wavebar{ animation: wave 880ms linear infinite; background:var(--wave-color); }
.audio-item.playing .wavebar:nth-child(1){ animation-delay: 0ms }
.audio-item.playing .wavebar:nth-child(2){ animation-delay: 110ms }
.audio-item.playing .wavebar:nth-child(3){ animation-delay: 230ms }
.audio-item.playing .wavebar:nth-child(4){ animation-delay: 350ms }
.audio-item.playing .wavebar:nth-child(5){ animation-delay: 470ms }

@keyframes wave{
  0%{ transform: scaleY(.35) }
  20%{ transform: scaleY(1.0) }
  40%{ transform: scaleY(.45) }
  60%{ transform: scaleY(1.2) }
  80%{ transform: scaleY(.55) }
  100%{ transform: scaleY(.35) }
}

/* hide native controls (we rely on custom play button) */
audio{ display:none }

/* ---------- Lightbox (hidden by default) ---------- */
.lightbox{
  position:fixed; inset:0; display:none; align-items:center; justify-content:center; z-index:9999;
}
.lightbox.open{ display:flex }
.lightbox-backdrop{ position:absolute; inset:0; background:rgba(12,12,12,0.6); backdrop-filter: blur(2px); }
.lightbox-panel{
  position:relative; z-index:2; max-width:92%; max-height:88%; border-radius:10px; overflow:hidden; background:#fff; padding:12px;
  box-shadow: 0 18px 60px rgba(0,0,0,0.5);
}
.lightbox-img{ max-width:84vw; max-height:76vh; display:block; }
.lightbox-close{ position:absolute; right:10px; top:6px; background:transparent; border:0; font-size:1.6rem; cursor:pointer; color:#222; }

/* accessibility focus */
[tabindex="0"]:focus{ outline: 3px solid rgba(191,167,127,0.12); border-radius:6px }

/* responsive adjustments */
@media (max-width:720px){
  .artist{ flex-direction:column; align-items:center; text-align:center; }
  .artist-portrait{ width: 180px; height:180px; flex:0 0 180px; }
  .audio-item{ justify-content:center }
  .waveform{ display:none } /* simplify on small screens */
}

/* reduced motion */
@media (prefers-reduced-motion: reduce){
  .artist, .play-btn, .audio-item.playing .wavebar{ transition: none !important; animation: none !important }
}
