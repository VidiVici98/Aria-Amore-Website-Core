/* ---------- Design tokens ---------- */
:root{
  --max-width:1200px;
  --pad:24px;
  --bg-paper: url('/assets/media/images/parchment-background.webp');
  --accent: #cfae7a;
  --accent-deep: #a2583e;
  --muted: #6b6b6b;
  --text: #111;
  --card-bg: linear-gradient(180deg,#fffaf1,#f7efe4);
  --card-radius:14px;
  --card-shadow: 0 10px 30px rgba(12,12,12,0.12), 
           inset 0 1px 2px rgba(255,255,255,0.6);
  --transition: all .32s cubic-bezier(.2,.9,.2,1);
  --wave-color: hsla(16, 45%, 44%, 0.75);
  --wave-dim: hsla(16, 45%, 44%, 0.5);
  --font-script: 'Italianno', cursive;
}
/* ---------- Grid ---------- */
.artists-page {
  position: relative;
}
.artists-page .fancy-heading {
  top: 65px;
  position: relative;
  justify-self: center;
}
.artists-page .fancy-heading h1 {
  font-size: 3.5rem;
  text-shadow: 2px 2px 2px #000;
  color: var(--accent-deep);
}
.artists-page .fancy-heading .flourish-side-ornament,
.artists-page .fancy-heading .flourish-side-ornament-right {
  width: 350px;
  opacity: .65;
}
.artists-page .fancy-heading .flourish-side-ornament-right {
  transform: scaleX(-1);
}
.artists-page .fancy-heading .flourish-side-ornament.bottom {
  transform: scaleY(-1);
}
.artists-page .fancy-heading .flourish-side-ornament-right.bottom {
  transform: scale(-1);
}
.artists-page .artists-grid{
  display:grid;
  gap: 22px;
  grid-template-columns: repeat(auto-fit, minmax(320px,1fr));
  align-items:start;
  margin-bottom: 2rem;
}
/* ---------- Artist Card ---------- */
.artists-page .artist{
  display:flex;
  margin-top: 2rem;
  gap: 18px;
  align-items:flex-start;
  background: var(--sepia-gradient);
  box-shadow: var(--box-shadow), var(--envelope-inset);
  border-radius: var(--card-radius);
  padding: 18px;
  transition: var(--transition);
  position:relative;
  overflow:visible;
}
.artists-page .artist:hover{ transform: translateY(-6px); 
  box-shadow: 0 26px 60px rgba(10,10,10,0.14) 
}
.artists-page .content-wrapper {
  position: relative;
}
.artists-page .corner {
  position: absolute;
  width: 80px;  
  height: auto;
  opacity: .5;
  border-radius: 20px;
  pointer-events: none;
}
.artists-page .corner-top-right {
  top: -15px;
  right: -15px;
}
.artists-page .corner-top-left {
  top: -15px;
  left: -15px;
  transform: scaleX(-1);
}
.artists-page .corner-bottom-right {
  bottom: -15px;
  right: -15px;
  transform: scaleY(-1);
}
.artists-page .corner-bottom-left {
  bottom: -15px;
  left: -15px;
  transform: scaleX(-1) scaleY(-1);
}
/* Portrait block */
.artists-page .artist-portrait{
  width: 140px;
  height: auto;
  border-radius: 10px;
  overflow:hidden;
  background: #efe6da;
  flex:0 0 140px;
  cursor:pointer;
  box-shadow: 0 8px 24px rgba(0,0,0,0.10);
}
.artists-page .artist-portrait img{ 
  width:100%; 
  height:100%; 
  object-fit:cover; 
  display:block; 
}
/* Info column */
.artists-page .artist-body{ 
  flex:1; 
  min-width:0; 
  display:flex; 
  flex-direction:column;
  gap:8px; 
}
.artists-page .headline-row{ 
  display:flex; 
  justify-content:space-between; 
  align-items:flex-start; 
  gap:12px; 
}
.artists-page .name-block{ 
  min-width:0; 
}
.artists-page .artist-name{
  margin:0;
  font-family:var(--font-script);
  font-size:2rem;
  color:var(--accent-deep);
  text-shadow: 1px  1px 1px #000;
  white-space:nowrap; 
  overflow:hidden; 
  text-overflow:ellipsis;
  transition: all 0.3s ease;
  cursor: pointer;
}
.artists-page .artist-name:hover {
  filter: brightness(1.5);
}
/* bio (collapsible) */
.artists-page .artist-bio{
  font-size: 1rem;
  color: var(--text);
  line-height:1.5;
  height: 7.2rem; 
  overflow:hidden;
  transition: max-height .36s ease, padding .28s ease;
  padding-bottom:0;
}
/* read more control */
.artists-page .read-more{
  background:transparent; 
  border: none; 
  color:#333;
  font-family:var(--font-script); 
  cursor:pointer; 
  padding:0; 
  text-decoration:none; 
  font-size: 1.1rem; 
  font-family: 'Times New Roman', Times, serif;
  font-style: italic;
  transition: all .3s ease;
}
.artists-page .read-more:focus{ 
  border-radius:6px; 
}
.artists-page .read-more:hover{
  transform: translateY(-3px);
  text-decoration: underline;
}
/* booking CTA */
.artists-page .cta-row{ 
  display:flex; 
  gap:8px; 
  margin-top:8px; 
  align-items:center; 
  flex-wrap:wrap;
}
.artists-page .book-btn{
  background: radial-gradient(circle at 50% 50%, #d68b6c, #a2583e);
  color:#fff; 
  text-shadow: 1px  2px 3px #000;
  padding:8px 12px; 
  border-radius:8px; 
  font-family:var(--font-script); 
  text-decoration:none;
  box-shadow: var(--box-shadow); 
  transition: var(--transition);
  right: -60%;
  position: relative;
}
.artists-page .book-btn:hover{ 
  transform: translateY(-2px); 
  filter:brightness(1.1) 
}
/* ---------- Audio list ---------- */
.artists-page .audio-list{ 
  display:flex; 
  flex-direction:column; 
  gap:10px; 
  margin-top:6px; 
}
.artists-page .audio-item{ 
  display:flex; 
  gap:12px; 
  align-items:center; 
  width:100%; 
  min-width:0; }
.artists-page .play-btn{
  display:grid; 
  place-items:center;
  width:36px; 
  height:36px; 
  border-radius:999px;
  background: linear-gradient(180deg,#fffdfa,#f5eee0);
  border:1px solid rgba(0,0,0,0.06);
  cursor:pointer; 
  transition: box-shadow .18s ease, transform .18s ease, background .18s ease;
  box-shadow: 0 6px 12px rgba(0,0,0,0.06);
}
.artists-page .play-btn:focus{ 
  outline: 3px solid rgba(207,174,122,0.14) 
}
.artists-page .play-icon{ 
  width:0;
  height:0;
  border-left:12px solid #231f20;
  border-top:7px solid transparent;
  border-bottom:7px solid transparent;
  margin-left:2px;
}
.artists-page .pause-icon{ 
  display:none; 
  width:14px; 
  height:14px;
}
.artists-page .pause-icon span{ 
  display:inline-block; 
  width:3px; 
  height:100%; 
  background:#231f20; 
  margin:0 2px;
}
.artists-page .play-btn.playing .play-icon{ 
  display:none 
}
.artists-page .play-btn.playing .pause-icon{ 
  display:inline-block 
}
/* track info */
.artists-page .track-info{ 
  min-width:0; 
  display:flex; 
  flex-direction:column; 
  gap:2px; 
  overflow:hidden 
}
.artists-page .track-title{ 
  font-family:var(--font-script); 
  font-size:1.5rem; 
  margin:0; 
  white-space:nowrap; 
  overflow:hidden; 
  text-overflow:ellipsis; 
}
.artists-page .track-sub{ 
  margin-top:-1rem; 
  color:var(--muted); 
  font-size:1rem; 
  text-align: left;
}
/* waveform: 5 bars */
.artists-page .waveform{ 
  display:inline-grid; 
  grid-auto-flow:column; 
  gap:1px; 
  align-items:end; 
  height:28px; 
  width:92px; 
  margin-left:6px; 
}
.artists-page .wavebar{ 
  width:6px; 
  background:var(--wave-dim); 
  border-radius:4px; 
  height:2px; 
  transform-origin:bottom; 
  transition: background .18s ease;
}
/* hover pulse (light) */
.artists-page .play-btn:hover + .waveform .wavebar,
.artists-page .play-btn:focus + .waveform .wavebar{ 
  transform: scaleY(1.6); 
  background:var(--wave-color); 
}
/* playing animation: looped scaling, staggered delays */
.artists-page .audio-item.playing .wavebar{ 
  animation: wave 880ms linear infinite; 
  background:var(--wave-color); 
}
.artists-page .audio-item.playing .wavebar:nth-child(1){ animation-delay: 0ms }
.artists-page .audio-item.playing .wavebar:nth-child(2){ animation-delay: 110ms }
.artists-page .audio-item.playing .wavebar:nth-child(3){ animation-delay: 230ms }
.artists-page .audio-item.playing .wavebar:nth-child(4){ animation-delay: 350ms }
.artists-page .audio-item.playing .wavebar:nth-child(5){ animation-delay: 470ms }
.artists-page .audio-item.playing .wavebar:nth-child(6){ animation-delay: 0ms }
.artists-page .audio-item.playing .wavebar:nth-child(7){ animation-delay: 110ms }
.artists-page .audio-item.playing .wavebar:nth-child(8){ animation-delay: 230ms }
.artists-page .audio-item.playing .wavebar:nth-child(9){ animation-delay: 350ms }
.artists-page .audio-item.playing .wavebar:nth-child(10){ animation-delay: 470ms }
@keyframes wave{
  0%{ transform: scaleY(1.75) }
  20%{ transform: scaleY(5.0) }
  40%{ transform: scaleY(2.25) }
  60%{ transform: scaleY(6) }
  80%{ transform: scaleY(2.75) }
  100%{ transform: scaleY(1.75) }
}
/* hide native controls (we rely on custom play button) */
.artists-page audio{ display:none }
/* ---------- Lightbox (hidden by default) ---------- */
.artists-page .lightbox{
  position:fixed; 
  inset:0; 
  display:none; 
  align-items:center; 
  justify-content:center; 
  z-index:9999;
}
.artists-page .lightbox.open{ 
  display:flex 
}
.artists-page .lightbox-backdrop{ 
  position:absolute; 
  inset:0; 
  background:rgba(12,12,12,0.6); 
  backdrop-filter: blur(2px); }
.artists-page .lightbox-panel{
  position:relative; 
  z-index:2;
  max-width:92%; 
  max-height:88%; 
  border-radius:10px; 
  overflow:hidden; 
  background:#fff; 
  padding:12px;
  box-shadow: 0 18px 60px rgba(0,0,0,0.5);
}
.artists-page .lightbox-img{ 
  max-width:84vw; 
  max-height:76vh; 
  display:block; 
}
.artists-page .lightbox-close{ 
  position:absolute; 
  right:10px; 
  top:6px; 
  background:transparent; 
  border:0; 
  font-size:1.6rem; 
  cursor:pointer; 
  color:#222; 
}
/* accessibility focus */
[tabindex="0"]:focus{ 
  outline: 3px solid rgba(191,167,127,0.12); 
  border-radius:6px }
/* ===== MODAL BASE STYLES ===== */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  visibility: hidden;
  opacity: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 2000;
  font-family: inherit;
  transition: opacity 0.3s ease;
  /* removed overflow here */
}
.modal.open {
  visibility: visible;
  opacity: 1;
}
/* ===== BACKDROP ===== */
.modal-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0, 0, 0, 0.75);
  backdrop-filter: blur(4px);
  opacity: 0;
  transition: opacity 0.3s ease;
  z-index: 2000; /* <-- ensure it sits under modal-content */
}
.modal.open .modal-backdrop {
  opacity: 1;
}
/* ===== MODAL CONTENT ===== */
.modal-content {
  position: relative;
  z-index: 2100;
  background: var(--sepia-gradient);
  border-radius: 12px;
  max-width: 900px;
  width: 90%;
  max-height: 90vh;
  overflow-y: auto; /* moved here */
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
  transform: scale(0.95);
  opacity: 0;
  transition: all 0.3s ease;
}
.modal.open .modal-content {
  transform: scale(1);
  opacity: 1;
}
/* ===== CLOSE BUTTON ===== */
.modal-close {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: none;
  border: none;
  font-size: 1.5rem;
  cursor: pointer;
}
/* ===== BODY LAYOUT ===== */
.modal-body {
  display: flex;
  flex-wrap: wrap;
  gap: 1.5rem;
  padding: 2rem;
}
.modal-image img {
  border-radius: 8px;
  width: 300px;
  height: auto;
  object-fit: cover;
  border: 1px inset #333;
}
.modal-details {
  flex: 1 1 300px;
  display: flex;
  flex-direction: column;
  gap: 1rem;
}
.modal-details h2 {
  margin-top: 0;
  color: #a2583e;
  text-shadow: 1px 2px 1px #000;
  font-size: 2.25rem;
  text-align: center;
}
.modal-details h3 {
  margin-top: 0;
  color: #1a1a1a;
  text-shadow: 2px 2px 3px rgba(0,0,0,0.4);
  font-size: 1.5rem;
}
.modal-details p {
  line-height: 1.5;
  color: #333;
  font-size: 1.25rem;
}
/* ===== AUDIO ===== */
.modal-audio audio {
  display: block;
  width: 100%;
  margin-top: 0.5rem;
}
/* ===== SOCIAL ===== */
.modal-social .social-icons {
  display: flex;
  gap: 1rem;
  transform: scale(.6);
}
.modal-social .icon {
  text-decoration: none;
  transition: transform 0.2s ease;
}
.modal-social .icon:hover {
  transform: scale(1.2);
}
/* ===== BOOK BUTTON ===== */
.book-btn {
  padding: 0.75rem 1.5rem;
  border: none;
  color: #fff;
  font-weight: bold;
  font-size: 1.5rem;
  border-radius: 4px;
  cursor: pointer;
  align-self: flex-start;
  transition: background 0.3s ease;
}
/* ===== RESPONSIVE ===== */
@media (max-width: 700px) {
  .modal-body {
    flex-direction: column;
    align-items: center;
  }
  .modal-image img {
    width: 100%;
    max-width: 350px;
  }
  .artists-page .fancy-heading .flourish-side-ornament,
  .artists-page .fancy-heading .flourish-side-ornament-right {
    width: 150px;
}
}
/* responsive adjustments */
@media (max-width:720px){
  .artists-page .artist{ 
    flex-direction:column; 
    align-items:center; 
    text-align:center; 
  }
  .artists-page .artist-portrait{ 
    width: 180px; 
    height:180px; 
    flex:0 0 180px; 
  }
  .artists-page .audio-item{ 
    justify-content:center 
  }
  .artists-page .waveform{ display:none } /* simplify on small screens */
}
/* reduced motion */
@media (prefers-reduced-motion: reduce){
  .artists-page .artist, 
  .artists-page .play-btn, 
  .artists-page .audio-item.playing .wavebar{ 
    transition: none !important; 
    animation: none !important 
  }
}